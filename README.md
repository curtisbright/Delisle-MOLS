# Scripts accompanying "Orthogonal Latin Squares of Order Ten with Two Relations: A SAT Investigation"

## Overview

This repository contains scripts for a SAT investigation into Delisle's results on orthogonal pairs of 10 × 10 Latin squares.

In 2010, Delisle (under the supervision of Myrvold) performed an exhaustive enumeration of orthogonal pairs of 10 × 10 Latin squares (or equivalently, 4-nets(10)) whose incidence matrices have two nontrivial relations over GF(2).  As a consequence of work by Howard, there are five possible cases to consider, two of which were ruled out by Delisle using a counting argument.  Delisle found that up to isomorphism there are 7 pairs in case 1 and 84 pairs in case 5 (though up to the symmetry breaking used there are 3,904 pairs in case 1 and 22,320 pairs in case 5).  The scripts in this repository can be used to verify Delisle's results and in addition generate formal proof certificates that the enumerations are complete up to isomorphism.

### Execution
- **`run.sh`**: Executes the SAT solving workflow:
  1. Generates a CNF encoding using the script `encode.py`.
  2. Runs a custom version of the SAT solver CaDiCaL designed to exhaustively search for all solutions of the CNF encoding.  (CaDiCaL is first downloaded and compiled using the script `compile-tools.sh` if it is not already present.)  The CaDiCaL solving log is saved in the `log` subdirectory.
  3. If solutions are found, they are converted into pairs of Latin squares using the script `verify.py` and the script also verifies that all pairs of Latin squares satisfy the expected properties.
  4. If `-g` is passed to `run.sh` then the pairs of Latin squares are checked for equivalence using the graph isomorphism library `nauty` and the number of solutions up to isomorphism is determined.
  5. If `-v` is padded to `run.sh` then proof certificates are generated by CaDiCaL in the subdirectory `proofs` and verified using the proof verifier DRAT-trim-t.
- **`summary.sh`**: Prints a table summarizing the results from the log files.  (Requires the program `datamash` to be installed.)

### Example

The five cases are labelled by and integer between 1 and 5.  The script `run.sh` takes the case to solve as a single command-line argument.  For example, to solve the case 3:

```./run.sh 3```

## References

Delisle, E.: The Search for a Triple of Mutually Orthogonal Latin Squares of Order Ten: Looking Through Pairs of Dimension Thirty-Five and Less.  Master's thesis, University of Victoria (2010)
